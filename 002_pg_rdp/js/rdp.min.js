(function(){window.rdp={init:function(){var a={init:function(){this.panels.lex.lexButton.onclick()},setup:function(){a.input=a.tokens.slice(0);a.i=0;a.token=a.input.shift();this.panels.lexTable.clearClassName();this.panels.lexTable.setClassName("selected",0,a.i)},getToken:function(){a.token=a.input.shift();a.i++;this.panels.lexTable.clearClassName();this.panels.lexTable.setClassName("selected",0,a.i)},node:function(){a.appendCallTreeChild(a.token)},createNode:function(b){return{nodeChar:b}},calc:function(b,
a,c){switch(b){case "+":return a+c;case "-":return a-c;case "*":return a*c;case "/":return a/c;default:throw"unknown op: "+b;}}},b=new sc.StepCells({E:{params:[],pos:[5,4]},T:{params:[],pos:[11,5]},F:{params:[],pos:[17,5]}},[[[20,"setup",[]]],[[19,"E",[]]],[[10,[28,[15,"token"],"nodeChar"],"$"],[26,5,1]],[[20,"pause",[]]],[],[[25,5,2],[0],[0],[25,11,3],[0]],[[19,"T",[]],[4,0,[24]],[4,[15,"num"],[15,0]]],[[0],[2,[9,[28,[15,"token"],"nodeChar"],"+"],[9,[28,[15,"token"],"nodeChar"],"-"]],[26,11,1]],
[[20,"node",[]],[4,[15,"op"],[28,[15,"token"],"nodeChar"]],[20,"getToken",[]]],[[19,"T",[]],[4,1,[24]],[4,[15,"right"],[15,1]],[4,[15,"num"],[20,"calc",[[15,"op"],[15,"num"],[15,"right"]]]]],[],[[25,7,0],[0],[30,[21,[15,"num"]]],[0],[25,17,3],[0]],[[19,"F",[]],[4,0,[24]],[4,[15,"num"],[15,0]]],[[0],[2,[9,[28,[15,"token"],"nodeChar"],"*"],[9,[28,[15,"token"],"nodeChar"],"/"]],[26,17,1]],[[20,"node",[]],[4,[15,"op"],[28,[15,"token"],"nodeChar"]],[20,"getToken",[]]],[[19,"F",[]],[4,1,[24]],[4,[15,"right"],
[15,1]],[4,[15,"num"],[20,"calc",[[15,"op"],[15,"num"],[15,"right"]]]]],[],[[25,13,0],[0],[30,[21,[15,"num"]]],[0],[25,29,3],[0]],[[9,[28,[15,"token"],"nodeChar"],"("],[26,24,1]],[[20,"node",[]],[20,"getToken",[]]],[[19,"E",[]],[4,[15,"num"],[24]]],[[10,[28,[15,"token"],"nodeChar"],")"],[26,23,1]],[[20,"pause",[]]],[[25,23,2],[0],[0],[20,"node",[]],[20,"getToken",[]],[21,[15,"num"]]],[[25,29,1],[0],[9,[28,[15,"token"],"nodeChar"],"n"],[26,26,1]],[[20,"node",[]],[4,[15,"num"],[28,[15,"token"],"num"]],
[20,"getToken",[]],[21,[15,"num"]]],[[25,29,0],[0]],[[20,"pause",[]]],[],[[0],[0],[30,[21]],[0]]],a),l=document.getElementById("callTreeContainer"),m=document.getElementById("buttonsContainer"),n=document.getElementById("lexContainer"),g=document.getElementById("lex-result"),f=document.getElementsByClassName("highlighttable")[0],c=document.getElementById("message");b.panels.callTree=new sc.panels.CallTree(b,{container:l,width:470,height:540,useNodeChar:!0,showReturnValue:!0});b.panels.buttons=new sc.panels.Buttons(b,
{container:m,showRunButton:!0});b.panels.lex=new sc.panels.Lex(b,{container:n});b.panels.codeTable=new sc.panels.CodeTable(b,{codeTable:f});b.panels.lexTable=new sc.panels.Table(b,{table:g});b.addErrorListener(function(b,a){c.innerHTML=a});a.init&&a.init.call(b);b.reset()}}})();(function(){function a(a,f,c){c=c.container;helpers.addClass(c,"sc-lex-panel");c.innerHTML="\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\uff1a<input class='sc-lex-src' type='text' value='(3 + 4) * 2' style='width: 16em;' /><input class='sc-lex-button' type='button' value='\u5b57\u53e5\u89e3\u6790' /><div class='sc-lex-message'></div>";var q=c.getElementsByClassName("sc-lex-src")[0],r=c.getElementsByClassName("sc-lex-message")[0];a.lexButton=c.getElementsByClassName("sc-lex-button")[0];a.lexButton.onclick=
function(){try{for(var a,c=q.value,e=0,k=[];;){if(e>=c.length){k.push({nodeChar:"$",className:"node-type-none",toString:b});break}var h=c.substr(e),d=l.exec(h);d&&(e+=d[1].length,h=c.substr(e));if(d=n.exec(h)){var g="none";if("+"===d[1]||"-"===d[1])g=3;else if("*"===d[1]||"/"===d[1])g=4;k.push({nodeChar:d[1],className:"node-type-"+g,toString:b});e+=d[1].length}else if(d=m.exec(h)){var p=parseInt(d[1]);k.push({nodeChar:"n",className:"node-type-5",nodeText:""+p,num:p,toString:b});e+=d[1].length}else throw["(pos ",
e+1,") unknown token: "+h[0]].join("");}a=k}catch(t){a=[{nodeChar:"$",className:"node-type-none",toString:b}],r.innerHTML=t}f.js.tokens=a;f.reset();f.panels.lexTable.deleteAll();f.panels.lexTable.insertRow(a)}}function b(){return this.nodeChar}sc.panels.Lex=function(b,f){a(this,b,f)};var l=/^([ \t]+)/,m=/^(\d+)/,n=/^([\+\-\*\/\(\)^])/})();
